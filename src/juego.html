<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexos</title>
    <link rel="icon" href="imagenes/logo.png" type="image/png">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<header class=" isolate overflow-hidden bg-purple-950 py-6 sm:py-0 border-b border-fuchsia-300/30 sticky top-0 z-50">
    <nav aria-label="Global" class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8 relative z-10">
        <div class="flex lg:flex-2">
            <a href="../index.html" class="-m-1.5 p-1.5 flex items-center gap-2">
                <span class="sr-only">Nexos</span>
                <img src="imagenes/logo.png" style="height: 45px; width: 45px;" class="h-10 w-10" />
                <span class="text-2x2 font-semibold text-fuchsia-300">Nexos</span>
            </a>
        </div>
        <div class="flex flex-1 ml-2 justify-end items-center gap-10 lg:gap-x-12 ">
            <a href="../index.html" class="text-sm font-semibold leading-6 text-white" style="font-size: 16px;">Inicio</a>
            <a href="Juegos.html" style="font-size: 16px;" class="text-sm font-semibold leading-6 text-white">Juegos</a>
            <a href="comparar.html" style="font-size: 16px;" class="text-sm font-semibold leading-6 text-white">Comparacion</a>
            <a href="foro.html" style="font-size: 16px;" class="text-sm font-semibold leading-6 text-white">Foro</a>
        </div>
    </nav>
</header>
<body class="bg-gray-900 overflow-x-hidden min-h-screen">
    <main class="mx-auto max-w-7xl px-6 lg:px-8 py-16">

    <div class="flex flex-col lg:flex-row lg:gap-8">

        <div class="w-full lg:w-4/6 mb-8 lg:mb-0">
            
            <div id="main-media-container"
                class="relative overflow-hidden aspect-[16/9] rounded-xl bg-gray-800 shadow-2xl">
                <h1 class="text-white text-xl p-4">Cargando media...</h1>
            </div>

            <div id="miniaturas-container" class="flex space-x-2 mt-3 overflow-x-auto pb-2">
                </div>

        </div> 
        <div id="detalle-juego" class="w-full lg:w-2/6 text-white">
            <h1 class="text-4xl">Cargando...</h1> 
        </div>
        </div>
</main>

    <div id="image-modal" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[9999] hidden"
        onclick="closeModal()">
        <img id="modal-image" src="" alt="Imagen ampliada del juego"
            class="w-full h-full max-w-[70%] max-h-[70%] rounded-xl shadow-2xl cursor-pointer"
            onclick="event.stopPropagation()">
        <button class="absolute top-4 right-4 text-white text-4xl font-light hover:text-fuchsia-400"
            onclick="closeModal()">
            &times;
        </button>
    </div>

    <script src="detalle-juegos.js"></script>
   <script>
    let currentGameId = null;
    let currentIndex = 0; 
    function openModal(imageSrc) {
        const modal = document.getElementById('image-modal');
        const modalImage = document.getElementById('modal-image');
        modalImage.src = imageSrc;
        modal.classList.remove('hidden');
    }

    function closeModal() {
        const modal = document.getElementById('image-modal');
        modal.classList.add('hidden');
    }

    function changeMainMedia(type, source, index) {
        const container = document.getElementById('main-media-container');
        container.innerHTML = '';
        
        currentIndex = index; 

        if (type === 'video') {
            const videoHTML = `
                <video controls autoplay class="w-full h-full object-cover">
                    <source src="${source}" type="video/mp4">
                    Tu navegador no soporta el tag de video.
                </video>
            `;
            container.innerHTML = videoHTML;
        } else if (type === 'image') {
            const imageHTML = `
               <img src="${source}" alt="Contenido del Juego" class="w-full h-full object-cover cursor-pointer" 
               onclick="openModal('${source}')" />
            `;
            container.innerHTML = imageHTML;
        }
        updateActiveThumbnail(index);
    }
    
    function updateActiveThumbnail(activeIndex) {
        const thumbnails = document.querySelectorAll('#miniaturas-container button');
        thumbnails.forEach((button, index) => {
            if (index === activeIndex) {
                button.classList.add('border-fuchsia-500');
                button.classList.remove('border-transparent');
                button.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            } else {
                button.classList.remove('border-fuchsia-500');
                button.classList.add('border-transparent');
            }
        });
    }

    function navigateGallery(direction) {
        const juego = dataJuegos[currentGameId];
        if (!juego || !juego.galeria) return;

        const gallerySize = juego.galeria.length;
        const newIndex = (currentIndex + direction + gallerySize) % gallerySize;
        
        const newMedia = juego.galeria[newIndex];
        changeMainMedia(newMedia.tipo, newMedia.src, newIndex);
    }

    document.addEventListener("DOMContentLoaded", () => {
        if (typeof cargarDetalleJuego === 'function') {
            const params = new URLSearchParams(window.location.search);
            currentGameId = params.get("id"); 
            
            cargarDetalleJuego();
        }
        
        document.addEventListener('keydown', (e) => {
            if (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA') {
                return;
            }
            
            if (e.key === 'ArrowLeft') {
                navigateGallery(-1);
            } else if (e.key === 'ArrowRight') {
                navigateGallery(1); 
            }
        });
    });
</script>

</body>

<footer class="bg-gray-900 border-t border-fuchsia-300/30">
    <div class="mx-auto max-w-7xl px-6 py-8 sm:px-6 lg:px-8 ">
        <div class="flex items-center justify-between">
            
            <p class="text-sm leading-5 text-gray-400">
                &copy; 2025 Nexos, Inc. All rights reserved.
            </p>
            
            <div class="flex items-center space-x-6">
                <a href="#" class="text-gray-400 hover:text-white transition-colors">
                    <span class="sr-only">Facebook</span>
                    <svg class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.237 2.899 7.828 6.837 9.068v-6.666h-2.348v-2.39h2.348V9.356c0-2.327 1.417-3.593 3.49-3.593 1.002 0 1.86.074 2.112.107v2.449h-1.455c-1.127 0-1.346.536-1.346 1.325v1.738h2.698l-.351 2.39h-2.347v6.666C19.101 19.828 22 16.237 22 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" />
                    </svg>
                </a>
                
                <a href="#" class="text-gray-400 hover:text-white transition-colors">
                    <span class="sr-only">Instagram</span>
                    <svg class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12.274 2.227c2.404 0 2.688.01 3.637.054 1.13.053 1.745.244 2.226.438.563.226.974.473 1.393.892.419.419.666.83.892 1.393.194.481.385 1.096.438 2.226.044.949.054 1.233.054 3.637 0 2.404-.01 2.688-.054 3.637-.053 1.13-.244 1.745-.438 2.226-.226.563-.473.974-.892 1.393-.419.419-.83.666-1.393.892-.481.194-1.096.385-2.226.438-.949.044-1.233.054-3.637.054-2.404 0-2.688-.01-3.637-.054-1.13-.053-1.745-.244-2.226-.438-.563-.226-.974-.473-1.393-.892-.419-.419-.666-.83-.892-1.393-.194-.481-.385-1.096-.438-2.226-.044-.949-.054-1.233-.054-3.637 0-2.404.01-2.688.054-3.637.053-1.13.244-1.745.438-2.226.226-.563.473-.974.892-1.393.419-.419.83-.666 1.393-.892.481-.194 1.096-.385 2.226-.438.949-.044 1.233-.054 3.637-.054zm.12 1.621c-2.368 0-2.67.01-3.606.052-1.077.05-1.65.232-2.023.385-.434.175-.724.364-1.049.688s-.513.615-.688 1.049c-.153.373-.335.946-.385 2.023-.042.936-.052 1.238-.052 3.606s.01 2.67.052 3.606c.05 1.077.232 1.65.385 2.023.175.434.364.724.688 1.049s.615.513 1.049.688c.373.153.946.335 2.023.385.936.042 1.238.052 3.606.052s2.67-.01 3.606-.052c1.077-.05 1.65-.232 2.023-.385.434-.175.724-.364 1.049-.688s.513-.615.688-1.049c.153-.373.335-.946.385-2.023.042-.936.052-1.238.052-3.606s-.01-2.67-.052-3.606c-.05-1.077-.232-1.65-.385-2.023-.175-.434-.364-.724-.688-1.049s-.615-.513-1.049-.688c-.373-.153-.946-.335-2.023-.385-.936-.042-1.238-.052-3.606-.052zM12.12 6.5c-3.033 0-5.5 2.467-5.5 5.5s2.467 5.5 5.5 5.5 5.5-2.467 5.5-5.5-2.467-5.5-5.5-5.5zm0 1.5a4 4 0 110 8 4 4 0 010-8zm5.5-2.812a1 1 0 11-2 0 1 1 0 012 0z" clip-rule="evenodd" />
                    </svg>
                </a>
                
            </div>
        </div>
    </div>
</footer>

</html>
const dataJuegos = {
    "ck3": {
        titulo: "Crusader Kings III",
        genero: "Juego actual ,Gran Estrategia, Rol",
        lanzamiento: 2020,
        plataformas: "PC, PS5, Xbox Series",
        descripcionLarga: "Crusader Kings III te pone al mando de una dinastía medieval. La estrategia aquí no se centra solo en el campo de batalla, sino en la intriga, la diplomacia, los matrimonios y la gestión de tu linaje a lo largo de generaciones.",
        imagen: "Imagenes-juegos/Crusadersking3/Imagen-juego-1.png",
        Creador: " Paradox Development Studio",

        tiendas: [
            { nombre: "Steam", precio: "157.600 COP", url: "https://store.steampowered.com/app/1158310/Crusader_Kings_III/" },
            { nombre: "Microsoft Store", precio: "152.900 COP", url: "https://www.xbox.com/es-co/games/store/crusader-kings-iii/9mz8rzsd0nfq" },
            { nombre: "Eneba (KEY)", precio: "49.031 COP", url: "https://www.eneba.com/latam/steam-crusader-kings-iii-steam-key-latam" },
            { nombre: "InstanGaming (KEY)", precio: "8.99 €", url: "https://www.instant-gaming.com/es/17664-comprar-crusader-kings-iii-pc-mac-juego-steam-latin-america/" }
        ],

        galeria: [
            { tipo: 'video', src: 'Videos-juegos/Crusader Kings III - Gameplay Teaser.mp4', thumb: 'Imagenes-juegos/Crusadersking3/Imagen-juego-1.png' },
            { tipo: 'video', src: 'Videos-juegos/Crusader Kings 3 - Official Story Trailer.mp4', thumb: 'Imagenes-juegos/Crusadersking3/Imagen-juego-1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/imgck2.png', thumb: 'Imagenes-juegos/Crusadersking3/imgck2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/imgck3.png', thumb: 'Imagenes-juegos/Crusadersking3/imgck3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/imgck4.png', thumb: 'Imagenes-juegos/Crusadersking3/imgck4.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/imgck5.png', thumb: 'Imagenes-juegos/Crusadersking3/imgck5.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/imgck6.png', thumb: 'Imagenes-juegos/Crusadersking3/imgck6.png' },
        ],

        contras: [
            "Curva de aprendizaje muy alta para principiantes.",
            "El componente militar es más simple que en otros títulos.",
            "Requiere múltiples DLCs para la experiencia completa."
        ],

        pros: [
            "Sistema de dinastías y personajes inigualable.",
            "Alto valor de rejugabilidad por las intrigas de rol.",
            "Excelentes gráficos para un juego de Gran Estrategia."
        ]
    },
    "cv1": {
        titulo: "Civilization 1991",
        genero: "Juego antiguo, 4x(Por turnos), Gestion",
        lanzamiento: 1991,
        plataformas: "PC(DOS)",
        descripcionLarga: "El pilar de los juegos de estrategia por turnos. Creado por Sid Meier, Civilization estableció el modelo 4X (eXplorar, eXpandir, eXplotar, eXterminar) donde controlas una civilización a lo largo de miles de años, desde la prehistoria hasta la era espacial. Fue fundamental para popularizar el género de estrategia a gran escala.",
        imagen: "Imagenes/civilization1991.png",
        Creador: "2K",

        tiendas: [
            { nombre: "No se encuentra actualmente en ninguna tienda", precio: " ", url: "juegos.html" }
        ],

        galeria: [
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv1.png', thumb: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv2.png', thumb: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv3.png', thumb: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv4.png', thumb: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv4.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv5.png', thumb: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv5.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv6.png', thumb: 'Imagenes-juegos/Crusadersking3/civilization1991/imgcv6.png' },
        ],

        contras: [
            "Gráficos extremadamente anticuados (solo nostálgicos).",
            "Mecánicas de juego muy sencillas comparadas con las versiones modernas.",
        ],

        pros: [
            "Fórmula 4X clásica, perfecta para la estrategia pura.",
            "Excelente por su valor histórico en el género.",
        ]
    },

    "wt2": {
        titulo: "Warcraft II: Tides of Darkness",
        genero: "Juego antiguo, RTS, Fantasia",
        lanzamiento: 1995,
        plataformas: "PC, (DOS/Windows), Mac",
        descripcionLarga: "Warcraft II solidificó la fórmula de la Estrategia en Tiempo Real (RTS) con una adición clave de fantasía épica, haciendo que el género se disparara en popularidad. Su éxito fue crucial para la explosión del multijugador en línea y sentó las bases para el universo Warcraft.",
        imagen: "Imagenes/warcraft2.png",
        Creador: "Blizzard Entertaiment",

        tiendas: [
            { nombre: "Battle.net ", precio: "41.480 COP", url: "https://us.shop.battle.net/es-es/product/warcraft-2-battle-net-edition?p=1652739" }
        ],

        galeria: [
            { tipo: 'video', src: 'Videos-juegos/Warcraft 2 Intro.mp4', thumb: 'Imagenes/warcraft2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/Warcraft2/imgwt1.png', thumb: 'Imagenes-juegos/Crusadersking3/Warcraft2/imgwt1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/Warcraft2/imgwt2.png', thumb: 'Imagenes-juegos/Crusadersking3/Warcraft2/imgwt2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/Warcraft2/imgwt3.png', thumb: 'Imagenes-juegos/Crusadersking3/Warcraft2/imgwt3.png' },
        ],

        contras: [
            "Gráficos muy desactualizados para estándares modernos.",
            "Mecánicas de control de unidades limitadas."
        ],

        pros: [
            "Fórmula RTS pura, esencial para los fans del género.",
            "Banda sonora y voz en off icónicas.",
            "Campañas históricas y muy rejugables."
        ]
    },

    "hm3": {
        titulo: "Heroes of Might and Magic III",
        genero: "Juego antiguo, Estrategia por Turnos, Fantasia",
        lanzamiento: 1999,
        plataformas: "PC, Windows, Mac",
        descripcionLarga: "Un pionero de la estrategia a gran escala que combina la exploración de un mapa de aventuras por turnos con combates tácticos en un tablero hexagonal. Su mezcla de gestión de recursos, desarrollo de héroes y ejércitos fantásticos lo convirtió en un clásico de culto.",
        imagen: "Imagenes/heroes of magic.png",
        Creador: "Dotemu",

        tiendas: [
            { nombre: "GOG.com (Complete)", precio: "4.99 €", url: "https://www.gog.com/en/game/heroes_of_might_and_magic_3_complete_edition" },
            { nombre: "Steam (HD Edition)", precio: "11.225 COP", url: "https://store.steampowered.com/app/297000/Heroes_of_Might__Magic_III__HD_Edition/" }
        ],

        galeria: [
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm1.png', thumb: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm2.png', thumb: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm3.png', thumb: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm4.png', thumb: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm4.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm5.png', thumb: 'Imagenes-juegos/Crusadersking3/heroesmagic/imghm5.png' },
        ],

        contras: [
            "El balance entre facciones puede ser disparejo.",
            "La versión HD de Steam no incluye las expansiones originales."
        ],

        pros: [
            "Juego de fantasía con una profundidad estratégica inigualable.",
            "Exploración, construcción y combate táctico perfectamente combinados.",
            "Gran cantidad de contenido y facciones jugables."
        ]
    },
    "ag4": {
        titulo: "Age of Empires IV",
        genero: "Juego actual, RTS, Histórico",
        lanzamiento: 2021,
        plataformas: "PC, Xbox Series, PlayStation 5",
        descripcionLarga: "El gran regreso de la saga RTS más aclamada. AoE IV refina la fórmula clásica de construcción de base y guerra con ocho civilizaciones únicas y campañas históricas bien narradas. Es un título moderno con gran fidelidad a sus raíces.",
        imagen: "Imagenes/ag.png",
        Creador: "Relic Entertaiment",

        tiendas: [
            { nombre: "Eneba (Key)", precio: "51.201 COP", url: "https://www.eneba.com/es/steam-age-of-empires-iv-steam-key-global/gaming4life?product=digital&currency=COP" },
            { nombre: "Steam (Anniversary Edition)", precio: "28.875 COP", url: "https://store.steampowered.com/app/1466860/Age_of_Empires_IV_Anniversary_Edition/" },
            { nombre: "PlayStation Store (Anniversary Edition)", precio: "39.99 US", url: "https://store.playstation.com/es-co/product/UP6312-PPSA25366_00-0950569117932928/" },
            { nombre: "Microsoft Store (Anniversary Edition)", precio: "82.500 COP", url: "https://www.xbox.com/es-CO/games/age-of-empires-iv#purchaseoptions" },
        ],

        galeria: [
            { tipo: 'video', src: 'Videos-juegos/age-video.mp4', thumb: 'Imagenes/ag.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag1.png', thumb: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag2.png', thumb: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag3.png', thumb: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag4.png', thumb: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag4.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag5.png', thumb: 'Imagenes-juegos/Crusadersking3/AgeofEmpires4/imgag5.png' }
        ],

        contras: [
            "El balance entre civilizaciones ha sido un desafío constante.",
            "Estilo visual menos detallado que AoE III Definitive Edition."
        ],

        pros: [
            "Juego de RTS con alta calidad de producción y jugabilidad.",
            "Civilizaciones asimétricas que requieren estrategias diferentes.",
            "Excelente modo campaña y tutoriales para nuevos jugadores."
        ]
    },
    "tw3": {
        titulo: "Total War: Warhamer III",
        genero: "Juego actual, Gran Estrategia, Táctico",
        lanzamiento: 2022,
        plataformas: "PC, Mac",
        descripcionLarga: "El épico final de la trilogía Total War Warhammer. Combina la gestión de un imperio por turnos en el mapa de campaña (estrategia) con batallas masivas en tiempo real (táctica). Conocido por su enorme escala y variedad de facciones fantásticas.",
        imagen: "Imagenes/tw.png",
        Creador: "Creative Assembly",

        tiendas: [
            { nombre: "Eneba (Key)", precio: "67.160 COP", url: "https://www.eneba.com/es/steam-total-war-warhammer-iii-pc-steam-key-global/frosty-entertainment?product=digital&currency=COP" },
            { nombre: "Steam", precio: "52.500 COP", url: "https://store.steampowered.com/app/1142710/Total_War_WARHAMMER_III/" }
        ],

        galeria: [
            { tipo: 'video', src: 'Videos-juegos/tw-trailer.mp4', thumb: './Imagenes/tw.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw1.png', thumb: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw2.png', thumb: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw3.png', thumb: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw4.png', thumb: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw4.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw5.png', thumb: 'Imagenes-juegos/Crusadersking3/TotalWar3/imgtw5.png' }
        ],

        contras: [
            "Tiempos de carga lentos en el mapa de campaña.",
            "Curva de dificultad muy alta debido a la gran cantidad de mecánicas."
        ],

        pros: [
            "Batallas tácticas masivas y visualmente impactantes.",
            "Variedad increíble de facciones y unidades únicas.",
            "Mapa de campaña enorme con un alto valor de rejugabilidad.",
        ]
    },
    "stB": {
        titulo: "StarCraft: Brood War",
        genero: "Juego antiguo, RTS, eSports",
        lanzamiento: 1998,
        plataformas: "PC, Mac",
        descripcionLarga: "Considerado por muchos como el pináculo del RTS competitivo. StarCraft: Brood War definió la jugabilidad asimétrica y la alta habilidad mecánica requerida en el género. Es gratuito en su versión remasterizada, StarCraft: Remastered.",
        imagen: "Imagenes/st.png",
        Creador: "Blizzard Entertainment",

        tiendas: [
            { nombre: "Battle.net (Gratis)", precio: "0,00 €", url: "https://us.shop.battle.net/es-mx/product/starcraft-remastered" },
        ],
        galeria: [
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st1.png', thumb: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st2.png', thumb: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st3.png', thumb: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st4.png', thumb: 'Imagenes-juegos/Crusadersking3/Starcraftbrood/st4.png' }
        ],
        contras: [
            "Mecánicas de interfaz muy anticuadas y rudas.",
            "Requiere mucha práctica para ser medianamente competente.",
        ],
        pros: [
            "El balance competitivo es legendario e inalterado.",
            "Esencial para entender la historia de los eSports.",
            "El juego base es gratuito.",
        ]
    },
    "mnl": {
        titulo: "Manor Lords",
        genero: "Juego actual, Constructor de ciudades, Táctico",
        lanzamiento: 2024,
        plataformas: "PC",
        descripcionLarga: "Combina la construcción de ciudades medievales con batallas tácticas masivas en tiempo real. Se enfoca en la gestión de recursos, la expansión territorial y el desarrollo orgánico de asentamientos, ofreciendo un gran realismo histórico.",
        imagen: "Imagenes/mnl.png",
        Creador: "Slavic Magic",

        tiendas: [
            { nombre: "Steam (Stantard version)", precio: "99.900 COP", url: "https://store.steampowered.com/app/1363080/Manor_Lords/?l=spanish" },
            { nombre: "Xbox (Stantard version)", precio: "64.285 COP", url: "https://www.xbox.com/es-CO/games/store/manor-lords-game-preview/9p5f966564fs" },
            { nombre: "Epíc (Stantard version)", precio: "64.935 COP", url: "https://store.epicgames.com/es-ES/p/manor-lords-ef795f" },
            { nombre: "Eneba (Key)", precio: "74.734 COP", url: "https://www.eneba.com/latam/steam-manor-lords-pc-steam-key-global" },
            { nombre: "GoG.Com (Standar version)", precio: "13.29 US", url: "https://www.gog.com/en/game/manor_lords" },
        ],
        galeria: [
            { tipo: 'video', src: 'Videos-juegos/manorgameplay.mp4', thumb: 'Imagenes/mnl.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Manorlords/mnl1.png', thumb: 'Imagenes-juegos/Manorlords/mnl1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Manorlords/mnl2.png', thumb: 'Imagenes-juegos/Manorlords/mnl2.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Manorlords/mnl3.png', thumb: 'Imagenes-juegos/Manorlords/mnl3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Manorlords/mnl4.png', thumb: 'Imagenes-juegos/Manorlords/mnl4.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Manorlords/mnl5.png', thumb: 'Imagenes-juegos/Manorlords/mnl5.png' }
        ],
        contras: [
            "El juego está en acceso anticipado (Early Access).",
            "La IA del combate puede ser mejorada."
        ],
        pros: [
            "Gráficos impresionantes y ambientación medieval inmersiva.",
            "Innovadora combinación de gestión de ciudades y batallas RTS.",
            "Profundo sistema de gestión de recursos y logística."
        ]
    },
    "xc2": {
        titulo: "Xcom 2",
        genero: "Juego antiguo, Táctico por Turnos, Ciencia Ficción",
        lanzamiento: 2016,
        plataformas: "PC, PS4, Xbox One, Switch",
        descripcionLarga: "Un líder del género táctico por turnos. Combina la gestión estratégica de tu base y tecnología (Estrategia Global) con combates tácticos por escuadrones en misiones procedurales, donde la cobertura y el posicionamiento son vitales.",
        imagen: "Imagenes/xc2.png",
        Creador: "Firaxis Games",

        tiendas: [
            { nombre: "Steam (Stantard version)", precio: "5.450 COP", url: "https://store.steampowered.com/app/268500/XCOM_2/?l=spanish" },
            { nombre: "Xbox (Stantard version)", precio: "11.495 COP", url: "https://www.xbox.com/es-CO/games/store/xcom-2/BQWGBMCKRMSQ/0001" },
            { nombre: "PlayStation (Stantard version)", precio: "8.99 US", url: "https://www.playstation.com/es-co/games/xcom-2/" },
            { nombre: "Eneba (Key)", precio: "8.259 COP", url: "https://www.eneba.com/latam/steam-xcom-2-steam-key-global" },
        ],
        galeria: [
            { tipo: 'image', src: 'Imagenes-juegos/Xcom2/xc1.png', thumb: 'Imagenes-juegos/Xcom2/xc1.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Xcom2/xc3.png', thumb: 'Imagenes-juegos/Xcom2/xc3.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Xcom2/xc4.png', thumb: 'Imagenes-juegos/Xcom2/xc4.png' },
            { tipo: 'image', src: 'Imagenes-juegos/Xcom2/xc5.png', thumb: 'Imagenes-juegos/Xcom2/xc5.png' }
        ],
        contras: [
            "La dificultad es muy elevada (conocida como 'XCOM difficulty').",
            "El componente de gestión puede volverse repetitivo."
        ],
        pros: [
            "Combate táctico por turnos muy profundo y satisfactorio.",
            "Gran rejugabilidad gracias a los mapas procedurales.",
            "Alta inmersión en la gestión de la base y personalización de escuadrones."
        ]
    },
}

function cargarMediaInicial(juego) {
    if (juego && juego.galeria && juego.galeria.length > 0) {
        const primerElemento = juego.galeria[0];
        changeMainMedia(primerElemento.tipo, primerElemento.src);
    }
}


function cargarDetalleJuego() {
    const params = new URLSearchParams(window.location.search);
    const idJuego = params.get("id");
    const juego = dataJuegos[idJuego];
    const contenedor = document.getElementById("detalle-juego");
    const miniaturasContenedor = document.getElementById("miniaturas-container");

    if (juego) {

        const miniaturasHTML = juego.galeria.map((media, index) => {
            const isVideo = media.tipo === 'video';
            const isActive = index === 0 ? '' : 'border-transparent';

            return `
              <button onclick="changeMainMedia('${media.tipo}', '${media.src}', ${index})"
                    class="flex-shrink-0 w-24 h-14 rounded-md overflow-hidden border-2 ${isActive} hover:border-fuchsia-300 transition-colors relative focus:outline-none focus:ring-0">
                    <img src="${media.thumb}" alt="${juego.titulo} media"
                        class="w-full h-full object-cover ${isVideo ? 'opacity-70' : ''}" />
                    ${isVideo ? `<span class="absolute inset-0 flex items-center justify-center">
        <svg class="h-12 w-14 text-fuchsia-200" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M2.25 12c0-5.407 4.34-9.75 9.697-9.75a9.8 9.8 0 0 1 7.217 3.245l-1.077 1.077a8.25 8.25 0 1 0 0 11.666l1.077 1.077a9.8 9.8 0 0 1-7.217 3.245C6.59 21.75 2.25 17.407 2.25 12z" clip-rule="evenodd" />
            <path fill="#000" d="M11.25 15.375a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v-6.75a.75.75 0 01.75-.75h1.5a.75.75 0 01.75.75v6.75zm5.5-6.75a.75.75 0 01.75.75v6.75a.75.75 0 01-.75.75h-1.5a.75.75 0 01-.75-.75v-6.75a.75.75 0 01.75-.75h1.5z" />
        </svg>
    </span>` : ''}
                </button>
            `;
        }).join('');

        miniaturasContenedor.innerHTML = miniaturasHTML;
        cargarMediaInicial(juego);

        if (juego.galeria.length > 0) {
            const primerElemento = juego.galeria[0];
            changeMainMedia(primerElemento.tipo, primerElemento.src, 0);
        }

        const preciosHTML = juego.tiendas.map(tienda => `
    <a href="${tienda.url}" target="_blank" rel="noopener noreferrer"
       class="flex items-center justify-between p-4 bg-gray-700/50 rounded-lg shadow-md hover:bg-fuchsia-900/40 transition-colors duration-200">
    
        <span class="text-white font-bold">${tienda.nombre}</span>
        
        <div class="flex items-center space-x-3">
            <span class="text-fuchsia-300 font-extrabold text-xl">${tienda.precio}</span>
            <svg class="h-5 w-5 text-fuchsia-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
        </div>
    </a>
`).join('');
        const detalleHTML = `
 <div class="space-y-6">
                <h1 class="text-5xl font-bold text-fuchsia-400">${juego.titulo}</h1>
                <p class="text-xl text-gray-300 font-medium">${juego.genero}</p>

                <h2 class="text-3xl font-semibold text-white border-b border-gray-700 pb-2">Información Clave</h2>
                
                <div class="grid grid-cols-2 gap-4 text-lg">
                    <div>
                        <p class="font-bold text-white">Lanzamiento:</p>
                        <p class="text-fuchsia-300">${juego.lanzamiento}</p>
                    </div>
                    <div>
                        <p class="font-bold text-white">Plataformas:</p>
                        <p class="text-fuchsia-300">${juego.plataformas}</p>
                    </div>
                     <div>
                        <p class="font-bold text-white">Desarrollador:</p>
                        <p class="text-fuchsia-300">${juego.Creador}</p>
                    </div>

                </div>  
                <h2 class="text-3xl font-semibold text-white pt-4 border-t border-gray-700">Sobre el Juego</h2>
                <p class="text-lg text-gray-300 leading-relaxed">${juego.descripcionLarga}</p>
            </div>  
            <div class="pt-6 border-t border-gray-700">
                    <h2 class="text-3xl font-semibold text-white mb-4">Comprar Juego</h2>
                    <div class="space-y-4">
                        ${preciosHTML}
                    </div>
            </div>
 `;
        contenedor.innerHTML = detalleHTML;
        document.title = `${juego.titulo} | Nexos`;
    } else {
        contenedor.innerHTML = '<h1 class="text-4xl text-center text-red-500">Error: Juego no encontrado.</h1>';
    }
}
function llenarDropdowns() {
    const selectA = document.getElementById('seleccion-juego-a');
    const selectB = document.getElementById('seleccion-juego-b');

    const juegosArray = Object.keys(dataJuegos).map(key => ({ id: key, ...dataJuegos[key] }));

    const opcionesHTML = juegosArray.map(juego =>
        `<option value="${juego.id}">${juego.titulo}</option>`
    ).join('');

    selectA.innerHTML += opcionesHTML;
    selectB.innerHTML += opcionesHTML;
}

function cargarComparacion() {
    const idA = document.getElementById('seleccion-juego-a').value;
    const idB = document.getElementById('seleccion-juego-b').value;
    const resultadosDiv = document.getElementById('comparacion-resultados');

    if (!idA || !idB || idA === idB) {
        resultadosDiv.innerHTML = `<p class="text-center text-fuchsia-300">Selecciona dos juegos diferentes para empezar la comparación.</p>`;
        return;
    }

    const juegoA = { id: idA, ...dataJuegos[idA] };
    const juegoB = { id: idB, ...dataJuegos[idB] };

    if (!juegoA || !juegoB) {
        resultadosDiv.innerHTML = `<p class="text-center text-fuchsia-300">Error: Los datos de uno o ambos juegos no se encontraron en la base de datos.</p>`;
        return;
    }

    const tiendasA = juegoA.tiendas || [];
    const tiendasB = juegoB.tiendas || [];
    const maxTiendas = Math.max(tiendasA.length, tiendasB.length);

    let preciosTablaHTML = '';

    for (let i = 0; i < maxTiendas; i++) {
        const itemA = tiendasA[i];
        const itemB = tiendasB[i];

        const nombreA = itemA ? itemA.nombre : '—';
        const precioA = itemA && itemA.precio !== ' ' ? `<span class="text-fuchsia-300 font-bold">${itemA.precio}</span>` : 'No listado';
        const urlA = itemA ? itemA.url : '#';

        const nombreB = itemB ? itemB.nombre : '—';
        const precioB = itemB && itemB.precio !== ' ' ? `<span class="text-fuchsia-300 font-bold">${itemB.precio}</span>` : 'No listado';
        const urlB = itemB ? itemB.url : '#';

        preciosTablaHTML += `
            <div class="grid grid-cols-3 items-center p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors duration-200">
                
                <a href="${urlA}" target="_blank" class="text-center block p-1 ${itemA ? 'text-white' : 'text-gray-500'}">
                    <p class="font-semibold">${nombreA}</p>
                    <p>${precioA}</p>
                </a>
                
                <div class="text-center text-sm font-bold text-fuchsia-300">
                    PRECIO
                </div>

                <a href="${urlB}" target="_blank" class="text-center block p-1 ${itemB ? 'text-white' : 'text-gray-500'}">
                    <p class="font-semibold">${nombreB}</p>
                    <p>${precioB}</p>
                </a>
            </div>
        `;
    }

    const prosHTML = `
        <h3 class="text-2xl font-bold text-green-400 mb-4 text-center">✅ Puntos Positivos</h3>
        <div class="grid grid-cols-2 gap-4">
            <ul class="space-y-3.5 p-4 bg-gray-800/70 rounded-lg">
                <p class="font-semibold text-fuchsia-300">${juegoA.titulo}</p>
                ${juegoA.pros.map(p => `<li class="text-gray-200 text-base">✓ ${p}</li>`).join('')}
            </ul>
            <ul class="space-y-3.5 p-4 bg-gray-800/70 rounded-lg">
                <p class="font-semibold text-fuchsia-300">${juegoB.titulo}</p>
                ${juegoB.pros.map(p => `<li class="text-gray-200 text-base">✓ ${p}</li>`).join('')}
            </ul>
        </div>
    `;

    const contrasHTML = `
        <h3 class="text-2xl font-bold text-red-400 mb-4 text-center">❌ Puntos Negativos</h3>
        <div class="grid grid-cols-2 gap-4">
            <ul class="space-y-3.5 p-4 bg-gray-800/70 rounded-lg">
                <p class="font-semibold text-fuchsia-300">${juegoA.titulo}</p>
                ${juegoA.contras.map(c => `<li class="text-gray-200 text-base">✗ ${c}</li>`).join('')}
            </ul>
            <ul class="space-y-3.5 p-4 bg-gray-800/70 rounded-lg">
                <p class="font-semibold text-fuchsia-300">${juegoB.titulo}</p>
                ${juegoB.contras.map(c => `<li class="text-gray-200 text-base">✗ ${c}</li>`).join('')}
            </ul>
        </div>
    `;

    resultadosDiv.innerHTML = `
        <div class="space-y-12">
        <div class="grid grid-cols-2 gap-8 mb-8">

            <div class="text-center">
        <a href="juego.html?id=${juegoA.id}" class="block mb-3">
            <div class="w-2/3 mx-auto h-48 overflow-hidden rounded-lg shadow-xl cursor-pointer">
                <img src="${juegoA.imagen}" alt="${juegoA.titulo}" 
                     class="w-full h-full object-cover" />
            </div>
        </a>  
        <h2 class="text-3xl font-bold text-white hover:text-fuchsia-400 transition-colors">
            <a href="juego.html?id=${juegoA.id}" class="text-white hover:text-fuchsia-400 no-underline">
                ${juegoA.titulo}
            </a>
        </h2>
        <p class="text-lg text-fuchsia-300">${juegoA.genero}</p>
    </div>
    
    <div class="text-center">
        <a href="juego.html?id=${juegoB.id}" class="block mb-3">
            <div class="w-2/3 mx-auto h-48 overflow-hidden rounded-lg shadow-xl cursor-pointer">
                <img src="${juegoB.imagen}" alt="${juegoB.titulo}" 
                     class="w-full h-full object-cover"/>
            </div>
        </a>  <h2 class="text-3xl font-bold text-white hover:text-fuchsia-400 transition-colors">
            <a href="juego.html?id=${juegoB.id}" class="text-white hover:text-fuchsia-400 no-underline">
                ${juegoB.titulo}
            </a>
        </h2>
        <p class="text-lg text-fuchsia-300">${juegoB.genero}</p>
    </div>
       </div>

         <h3 class="text-3xl font-bold text-white text-center mb-6 border-t border-b border-gray-700 py-3">
                Diferencia de Precios
            </h3>
            
            <div class="space-y-4">
                ${preciosTablaHTML}
            </div>

        ${prosHTML}
        <hr class="border-gray-700">
        ${contrasHTML}
    </div>
    `;
}
window.cargarComparacion = cargarComparacion;
window.llenarDropdowns = llenarDropdowns;

document.addEventListener("DOMContentLoaded", () => {
    // 1. Si estamos en la página de comparación (existe el selector)
    const comparacionSelect = document.getElementById('seleccion-juego-a');
    if (comparacionSelect) {
        llenarDropdowns();
    }

    // 2. Si estamos en la página de detalle, cargar la info
    if (document.getElementById("detalle-juego")) {
        cargarDetalleJuego();
    }
});